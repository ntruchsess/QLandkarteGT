<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Conan: Conan - Connection Analyzer for Qt</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Conan - Connection Analyzer for Qt </h1>  </div>
</div>
<div class="contents">
<h3 class="version">1.0.2 </h3><div align="center">
<img src="Conan.jpg" alt="Conan.jpg"/>
<p><strong>The Conan widget 'conan::ConanWidget'</strong></p></div>
 <h2><a class="anchor" id="sec_conan"></a>
Conan</h2>
<p>Conan is a C++ library that provides run-time introspection of object hierarchies, object inheritance, signal/slot connections, and signal emissions. <br/>
</p>
<p>Conan contains a single widget (<a class="el" href="classconan_1_1_conan_widget.html" title="The main Conan widget that provides run-time signal/slot introspection.">conan::ConanWidget</a>) that provides the following functionality: </p>
<ul>
<li>object hierarchies can be added, discovered, browsed and exported to XML </li>
<li>signals/slots, including active connections, can be examined </li>
<li>any signal/slot connection can be disconnected </li>
<li>duplicate connections can be found </li>
<li>signal emissions can be monitored and logged</li>
</ul>
<p>Conan has been used to identify multiple duplicate connections in the source code of Qt!</p>
<p>Contact - <a href="mailto:edekoning@gmail.com">edekoning@gmail.com</a> <br/>
 Website - <a href="http://sourceforge.net/projects/conanforqt">http://sourceforge.net/projects/conanforqt</a> <br/>
 License - GPL (source code); CCL (icons) <br/>
</p>
<p>Other sites hosting Conan include: </p>
<ul>
<li>Qt-Apps.org - <a href="http://qt-apps.org/content/show.php/Conan+-+Connection+analyzer+for+Qt?content=108330">http://qt-apps.org/content/show.php/Conan+-+Connection+analyzer+for+Qt?content=108330</a> </li>
<li>Ohloh.net - <a href="http://www.ohloh.net/p/conanforqt">http://www.ohloh.net/p/conanforqt</a> </li>
<li>FamousWhy.com - Granted an Editor's Pick Award - <a href="http://download.famouswhy.com/conan_for_qt/">http://download.famouswhy.com/conan_for_qt/</a></li>
</ul>
<p>Other projects using Conan include: </p>
<ul>
<li>Qtilities - <a href="http://www.qtilities.org/">http://www.qtilities.org/</a></li>
</ul>
<hr/>
<br/>
</p>
<h2><a class="anchor" id="sec_usage"></a>
Usage</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor">    #include &lt;<a class="code" href="_conan_8h.html" title="Main include file for using Conan in other projects.">Conan.h</a>&gt;</span>          <span class="comment">// checks for proper qt version and includes</span>
                                <span class="comment">// the ConanWidget and AboutDialog</span>

    <span class="comment">//Q_INIT_RESOURCE (Conan);  // necessary on some platforms when Conan</span>
                                <span class="comment">// is build as a static library</span>
    <a class="code" href="classconan_1_1_conan_widget.html" title="The main Conan widget that provides run-time signal/slot introspection.">conan::ConanWidget</a> widget;
    widget.<a class="code" href="classconan_1_1_conan_widget.html#a8964b0085ce2e9eabe42c75016d9d710" title="Adds the object hierarchy defined by the given object to the object tree. Note that the object hierar...">AddRootObject</a> (myMainWindow);    <span class="comment">// optional</span>
    widget.<a class="code" href="classconan_1_1_conan_widget.html#a8964b0085ce2e9eabe42c75016d9d710" title="Adds the object hierarchy defined by the given object to the object tree. Note that the object hierar...">AddRootObject</a> (someOtherObject); <span class="comment">// optional</span>
    widget.show ();
</pre></div><hr/>
<br/>
</p>
<h2><a class="anchor" id="sec_toolbar"></a>
Toolbar</h2>
<div align="center">
<img src="Toolbar.jpg" alt="Toolbar.jpg"/>
<p><strong>The Conan toolbar</strong></p></div>
<p> <br/>
 From left to right: </p>
<ul>
<li>Back (Alt + Left) - Selects the previous object of the selection history in the <em>Object</em> <em>Hierarchy</em> tree view. </li>
<li>Forward (Alt + Right) - Selects the next object of the selection history in the <em>Object</em> <em>Hierarchy</em> tree view. </li>
<li>Find object (Ctrl + F) - Text field used to specify a search criteria that can be any part of an object's class name, object name, or address. Press Enter/Return to perform the actual search. </li>
<li>Find Next (F3) - Finds and selects the next object that matches the current search criteria. </li>
<li>Refresh objects (F5) - Refreshes the complete <em>Object</em> <em>Hierarchy</em> tree view. </li>
<li>Discover objects - Discovers all top-level widgets and adds them to the <em>Object</em> <em>Hierarchy</em> tree view. </li>
<li>Find duplicate connections - Scans the entire <em>Object</em> <em>Hierarchy</em> tree view for the next occurance of a duplicate connection. A duplicate connection occurs when a signal/slot is connected multiple times to the same signal/slot. Duplicate connections are marked by a bright yellow background. Note that duplicate connections may be hidden when the 'Hide inactive methods' or 'Hide inherited methods' option is enabled. </li>
<li>Export to XML - Exports the selected <em>QObject</em> hierarchy, inlcuding signal, slots and all active connection to XML, e.g.: <div class="fragment"><pre class="fragment">&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;
&lt;?xml version=<span class="stringliteral">&quot;1.0&quot;</span> encoding=<span class="stringliteral">&quot;UTF-8&quot;</span>?&gt;
&lt;export conan=<span class="stringliteral">&quot;1.0.0&quot;</span> qt=<span class="stringliteral">&quot;4.7.0&quot;</span> created=<span class="stringliteral">&quot;2010-10-17T17:52:01&quot;</span>&gt;
    &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">&quot;ConanWidget&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;conan::ConanWidget&quot;</span> address=<span class="stringliteral">&quot;0x0012fdc8&quot;</span>&gt;
        &lt;Signal signature=<span class="stringliteral">&quot;customContextMenuRequested(QPoint)&quot;</span> access=<span class="stringliteral">&quot;Protected&quot;</span>
                declaredBy=<span class="stringliteral">&quot;QWidget&quot;</span>/&gt;
        &lt;Signal signature=<span class="stringliteral">&quot;destroyed()&quot;</span> access=<span class="stringliteral">&quot;Protected&quot;</span> declaredBy=<span class="stringliteral">&quot;QObject&quot;</span>/&gt;
        &lt;Signal signature=<span class="stringliteral">&quot;destroyed(QObject*)&quot;</span> access=<span class="stringliteral">&quot;Protected&quot;</span> declaredBy=<span class="stringliteral">&quot;QObject&quot;</span>/&gt;
        &lt;Slot signature=<span class="stringliteral">&quot;SlotRequestConfirmation(QString,QString,bool&amp;amp;)&quot;</span> access=<span class="stringliteral">&quot;Private&quot;</span>
              declaredBy=<span class="stringliteral">&quot;conan::ConanWidget&quot;</span>&gt;
            &lt;connection methodType=<span class="stringliteral">&quot;Signal&quot;</span> 
                        signature=<span class="stringliteral">&quot;SignalRequestConfirmation(QString,QString,bool&amp;amp;)&quot;</span>
                        objectClass=<span class="stringliteral">&quot;conan::ConnectionModel&quot;</span> objectName=<span class="stringliteral">&quot;ConnectionModel&quot;</span>
                        objectAddress=<span class="stringliteral">&quot;0x00af24a8&quot;</span> connectionType=<span class="stringliteral">&quot;Auto&quot;</span> access=<span class="stringliteral">&quot;Protected&quot;</span>
                        declaredBy=<span class="stringliteral">&quot;conan::ConnectionModel&quot;</span>/&gt;
            &lt;connection methodType=<span class="stringliteral">&quot;Signal&quot;</span>
                        signature=<span class="stringliteral">&quot;SignalRequestConfirmation(QString,QString,bool&amp;amp;)&quot;</span>
                        objectClass=<span class="stringliteral">&quot;conan::ConnectionModel&quot;</span> objectName=<span class="stringliteral">&quot;ConnectionModel&quot;</span>
                        objectAddress=<span class="stringliteral">&quot;0x00afef00&quot;</span> connectionType=<span class="stringliteral">&quot;Auto&quot;</span> access=<span class="stringliteral">&quot;Protected&quot;</span>
                        declaredBy=<span class="stringliteral">&quot;conan::ConnectionModel&quot;</span>/&gt;
        &lt;/Slot&gt;
        &lt;Slot signature=<span class="stringliteral">&quot;SlotDeleteSpies()&quot;</span> access=<span class="stringliteral">&quot;Private&quot;</span> declaredBy=<span class="stringliteral">&quot;conan::ConanWidget&quot;</span>&gt;
            &lt;connection methodType=<span class="stringliteral">&quot;Signal&quot;</span> signature=<span class="stringliteral">&quot;triggered(bool)&quot;</span> objectClass=<span class="stringliteral">&quot;QAction&quot;</span>
                        objectName=<span class="stringliteral">&quot;actionDeleteSpies&quot;</span> objectAddress=<span class="stringliteral">&quot;0x003ffcd8&quot;</span>
                        connectionType=<span class="stringliteral">&quot;Auto&quot;</span> access=<span class="stringliteral">&quot;Protected&quot;</span> declaredBy=<span class="stringliteral">&quot;QAction&quot;</span>/&gt;
        &lt;/Slot&gt;
        ...
        &lt;<span class="keywordtype">object</span> name=<span class="stringliteral">&quot;ConnectionModel&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;conan::ConnectionModel&quot;</span> address=<span class="stringliteral">&quot;0x00af24a8&quot;</span>&gt;
            &lt;Signal signature=<span class="stringliteral">&quot;SignalRequestConfirmation(QString,QString,bool&amp;amp;)&quot;</span>
                    access=<span class="stringliteral">&quot;Protected&quot;</span> declaredBy=<span class="stringliteral">&quot;conan::ConnectionModel&quot;</span>&gt;
                ...
            &lt;/Signal&gt;
            ...
        &lt;/<span class="keywordtype">object</span>&gt;
        ...
    &lt;/<span class="keywordtype">object</span>&gt;
&lt;/export&gt;
</pre></div> </li>
<li>About Conan - Shows the Conan about dialog. <div align="center">
<img src="About.jpg" alt="About.jpg"/>
<p><strong>The Conan about dialog</strong></p></div>
 <hr/>
<br/>
</li>
</ul>
<h2><a class="anchor" id="sec_object_hierarchy"></a>
Object hierarchy</h2>
<div align="center">
<img src="ObjectHierarchy.jpg" alt="ObjectHierarchy.jpg"/>
<p><strong>The Conan object hierarchy tree view</strong></p></div>
<p> <br/>
 The <em>Object</em> <em>Hierarchy</em> tree view displayes the complete object hierarchy of one or more root objects. For each object, it displays the class name, object name, and object address. Note that this view is static in that it presents a snapshot in time of these hierarchies. The <em>Refresh</em> button from the toolbar can be used to synchronize the view with the current situation.</p>
<p>Root objects can be added manually through <em>ConanWidget::AddRootObject</em> or automatically by using the <em>Discover</em> <em>objects</em> toolbar button. The <em>Object</em> <em>Hierarchy</em> tree view will make sure that each root object belongs to an unique object hierarchy. This is achieved by looking if the 'to be added' root object has a mutual parent with an existing root object. If so, the existing root object is replaced by this mutual parent. F.e: Object A has a child object B and a child object C. If we first add B and then add C, B will be replaced by A (the mutual parent of B and C).</p>
<p>Root object can be removed through use of the context menu: </p>
<ul>
<li>Remove root object - Removes the current selected root object. </li>
<li>Remove all root objects - Removes all root object. </li>
<li>Refresh objects - Refreshes the complete <em>Object</em> <em>Hierarchy</em> tree view. </li>
<li>Discover objects - Discovers all top-level widgets and adds them to the <em>Object</em> <em>Hierarchy</em> tree view. </li>
<li>Find duplicate connections - Scans the entire <em>Object</em> <em>Hierarchy</em> tree view for the next occurance of a duplicate connection. </li>
<li>Export to XML - Exports the selected <em>QObject</em> hierarchy, inlcuding signal, slots and all active connection to XML.</li>
</ul>
<p>Note that removing a child (non-root) object is not allowed, as that same child object would reappear after pressing <em>Refresh</em> from the toolbar.</p>
<hr/>
<br/>
</p>
<h2><a class="anchor" id="sec_inheritance"></a>
Class inheritance</h2>
<div align="center">
<img src="Inheritance.jpg" alt="Inheritance.jpg"/>
<p><strong>The Conan class inheritance list</strong></p></div>
<p> <br/>
 The <em>Class</em> <em>Inheritance</em> list shows how the current selected object in the <em>Object</em> <em>Hierarchy</em> tree view was derived from QObject. It does not present a complete class inheritance hierarchy, but merely an inheritance list from QObject to the actual class of the selected object.</p>
<hr/>
<br/>
</p>
<h2><a class="anchor" id="sec_class_info"></a>
Class information</h2>
<div align="center">
<img src="ClassInformation.jpg" alt="ClassInformation.jpg"/>
<p><strong>The Conan class information table</strong></p></div>
<p> <br/>
 The <em>Class</em> <em>Information</em> table contains the extra class information of the current selected object. This meta data consists of key-value pairs that have been associated to the class using the Q_CLASSINFO macro.</p>
<hr/>
<br/>
</p>
<h2><a class="anchor" id="sec_signals_slots"></a>
Signals and Slots</h2>
<div align="center">
<img src="SignalsSlots.jpg" alt="SignalsSlots.jpg"/>
<p><strong>The Conan signal and slot views</strong></p></div>
<p> <br/>
 All signals of the current selected object are listed in the <em>Signals</em> view, and all slots of the current selected object are listed in the <em>Slots</em> view. Both views are static and can be updated using the <em>Refresh</em> button from the toolbar. For each signal/slot the following information is provided: </p>
<ul>
<li>Access - The access level of the signal/slot: private (lock icon), protected (key icon), public (no icon). </li>
<li>Signature - The normalized signature of the signal/slot; see QMetaObject::normalizedSignature. </li>
<li>Declared in - The (sub)class in which the signal/slot was declared.</li>
</ul>
<p>All methods that are connected to a signal or slot, are displayed as children of that particular signal or slot. For each connection the following information is provided: </p>
<ul>
<li>Signature - The normalized signature of the connected signal/slot; see QMetaObject::normalizedSignature. </li>
<li>Object - The object to which the connected signal/slot belongs; class name and object name. </li>
<li>Address - The address of the object to which the connected signal/slot belongs. </li>
<li>Connection - The type of connection (direct, queued, blocking, auto); see Qt::ConnectionType.</li>
</ul>
<p>Note that only connections between methods marked in code as signal or slot and processed by MOC are displayed. The <a class="el" href="classconan_1_1_signal_spy.html" title="The SignalSpy class enables introspection of signal emission.">conan::SignalSpy</a> and QSignalSpy are examples of classes that have not been processed by MOC. They create connections directly by using the internal <em>QMetaObject::connect</em>. These types of connections are ignored. <br/>
<br/>
 The <em>Signals</em> and <em>Slots</em> views can be filtered using the following options: </p>
<ul>
<li>Hide inactive methods - Hides all signals and slots that have no connections. </li>
<li>Hide inherited methods - Hides all signals and slots that have been inherited.</li>
</ul>
<p>A context menu with the following options is provided for both the <em>Signals</em> and the <em>Slots</em> view: </p>
<ul>
<li>Disconnect all - Disconnects all receivers from the selected signal, or all senders from the selected slot. </li>
<li>Disconnect - Disconnects the selected connection. </li>
<li>Find object - Finds the object of the selected method in the <em>Object</em> <em>Hierarchy</em> tree view, selects it and expands the corresponding method in either the <em>Signals</em> or <em>Slots</em> view. Note that if the object is not present in the <em>Object</em> <em>Hierarchy</em> tree view the user is asked if it should be added as a root object. </li>
<li>Spy signal - Creates a signal spy for the selected method; disabled when the selected method is not a signal.</li>
</ul>
<hr/>
<br/>
</p>
<h2><a class="anchor" id="sec_signal_spies"></a>
Signal spies</h2>
<div align="center">
<img src="SignalSpies.jpg" alt="SignalSpies.jpg"/>
<p><strong>The Conan signal spy table</strong></p></div>
<p> <br/>
 The <em>Signal</em> <em>spies</em> <em>table</em> lists all existing signal spies. A signal spy monitors all emissions of a single signal. Each time it detects a signal emission, infomration about that signal emission is logged. For each signal spy the following information is provided: </p>
<ul>
<li>Signature - The normalized signature of the signal; see QMetaObject::normalizedSignature. </li>
<li>Object - The object to which the signal belongs; class name and object name. </li>
<li>Address - The address of the object to which the signal belongs. </li>
<li>Declared in - The QObject subclass that declares the signal.</li>
</ul>
<p>Existing signal spies can be removed through use of the context menu: </p>
<ul>
<li>Select all (Ctrl + A) - Selects all available signal spies. </li>
<li>Delete (Del) - Deletes all selected signal spies.</li>
</ul>
<hr/>
<br/>
</p>
<h2><a class="anchor" id="sec_log_options"></a>
Log options</h2>
<div align="center">
<img src="LogOptions.jpg" alt="LogOptions.jpg"/>
<p><strong>The Conan signal spy log options</strong></p></div>
<p> <br/>
 The <em>log</em> <em>options</em> define what information is logged by each signal spy and how each log is formatted. Currently all logging is performed through use of the <em>qDebug</em> function call. Two example logs are provided in the <a class="el" href="classconan_1_1_conan_widget.html" title="The main Conan widget that provides run-time signal/slot introspection.">conan::ConanWidget</a> that reflect the current options. <br/>
<br/>
 When the <em>Arguments</em> option is enabled, each argument used during a signal emission is converted to a string. If this is not possible, the type name of the argument's type is used instead. In case no type name is associated <em>void</em> is used. Type names can be registered using qRegisterMetaType.</p>
<div align="center">
<img src="Output.jpg" alt="Output.jpg"/>
<p><strong>Conan signal spy output</strong></p></div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 31 2011 20:34:58 for Conan by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
